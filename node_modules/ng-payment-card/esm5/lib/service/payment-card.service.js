/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { default as CARD_TYPES } from '../domain/card-types';
import { Month } from '../domain/month.enum';
var PaymentCardService = /** @class */ (function () {
    function PaymentCardService() {
    }
    /**
     * Return card type based on card number
     */
    /**
     * Return card type based on card number
     * @param {?} ccNum
     * @return {?}
     */
    PaymentCardService.getCardType = /**
     * Return card type based on card number
     * @param {?} ccNum
     * @return {?}
     */
    function (ccNum) {
        var e_1, _a;
        try {
            for (var _b = tslib_1.__values(Array.from(PaymentCardService.cardTypes.entries())), _c = _b.next(); !_c.done; _c = _b.next()) {
                var _d = tslib_1.__read(_c.value, 2), key = _d[0], val = _d[1];
                if (ccNum
                    .split(new RegExp('[ \\-]'))
                    .join('')
                    .match(val)) {
                    return key;
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return null;
    };
    /**
     * Return months in numerical format
     */
    /**
     * Return months in numerical format
     * @return {?}
     */
    PaymentCardService.getMonths = /**
     * Return months in numerical format
     * @return {?}
     */
    function () {
        var e_2, _a;
        /** @type {?} */
        var months = [];
        try {
            for (var _b = tslib_1.__values(Object.keys(Month)), _c = _b.next(); !_c.done; _c = _b.next()) {
                var key = _c.value;
                months.push(Month[key]);
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return months;
    };
    /**
     * Return years based on current year
     */
    /**
     * Return years based on current year
     * @return {?}
     */
    PaymentCardService.getYears = /**
     * Return years based on current year
     * @return {?}
     */
    function () {
        /** @type {?} */
        var years = [];
        /** @type {?} */
        var year = new Date().getFullYear();
        for (var i = -2; i < 5; i++) {
            years.push(year + i);
        }
        return years;
    };
    /**
     * Collection of card types
     */
    PaymentCardService.cardTypes = CARD_TYPES;
    PaymentCardService.decorators = [
        { type: Injectable }
    ];
    return PaymentCardService;
}());
export { PaymentCardService };
if (false) {
    /**
     * Collection of card types
     * @type {?}
     */
    PaymentCardService.cardTypes;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudC1jYXJkLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZy1wYXltZW50LWNhcmQvIiwic291cmNlcyI6WyJsaWIvc2VydmljZS9wYXltZW50LWNhcmQuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLE9BQU8sSUFBSSxVQUFVLEVBQXNCLE1BQU0sc0JBQXNCLENBQUM7QUFDakYsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRTdDO0lBQUE7SUE4Q0EsQ0FBQztJQXZDQzs7T0FFRzs7Ozs7O0lBQ1csOEJBQVc7Ozs7O0lBQXpCLFVBQTBCLEtBQWE7OztZQUNyQyxLQUF5QixJQUFBLEtBQUEsaUJBQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtnQkFBbEUsSUFBQSxnQ0FBVSxFQUFULFdBQUcsRUFBRSxXQUFHO2dCQUNsQixJQUNFLEtBQUs7cUJBQ0YsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3FCQUMzQixJQUFJLENBQUMsRUFBRSxDQUFDO3FCQUNSLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFDYjtvQkFDQSxPQUFPLEdBQUcsQ0FBQztpQkFDWjthQUNGOzs7Ozs7Ozs7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRDs7T0FFRzs7Ozs7SUFDVyw0QkFBUzs7OztJQUF2Qjs7O1lBQ1EsTUFBTSxHQUFpQixFQUFFOztZQUMvQixLQUFrQixJQUFBLEtBQUEsaUJBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtnQkFBakMsSUFBTSxHQUFHLFdBQUE7Z0JBQ1osTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzthQUN6Qjs7Ozs7Ozs7O1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVEOztPQUVHOzs7OztJQUNXLDJCQUFROzs7O0lBQXRCOztZQUNRLEtBQUssR0FBa0IsRUFBRTs7WUFDekIsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFO1FBQ3JDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMzQixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztTQUN0QjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQzs7OztJQXhDdUIsNEJBQVMsR0FBdUIsVUFBVSxDQUFDOztnQkFMcEUsVUFBVTs7SUE4Q1gseUJBQUM7Q0FBQSxBQTlDRCxJQThDQztTQTdDWSxrQkFBa0I7Ozs7OztJQUk3Qiw2QkFBbUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGRlZmF1bHQgYXMgQ0FSRF9UWVBFUywgQ2FyZFR5cGVzQ29udGFpbmVyIH0gZnJvbSAnLi4vZG9tYWluL2NhcmQtdHlwZXMnO1xuaW1wb3J0IHsgTW9udGggfSBmcm9tICcuLi9kb21haW4vbW9udGguZW51bSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBQYXltZW50Q2FyZFNlcnZpY2Uge1xuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiBjYXJkIHR5cGVzXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBjYXJkVHlwZXM6IENhcmRUeXBlc0NvbnRhaW5lciA9IENBUkRfVFlQRVM7XG5cbiAgLyoqXG4gICAqIFJldHVybiBjYXJkIHR5cGUgYmFzZWQgb24gY2FyZCBudW1iZXJcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0Q2FyZFR5cGUoY2NOdW06IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBBcnJheS5mcm9tKFBheW1lbnRDYXJkU2VydmljZS5jYXJkVHlwZXMuZW50cmllcygpKSkge1xuICAgICAgaWYgKFxuICAgICAgICBjY051bVxuICAgICAgICAgIC5zcGxpdChuZXcgUmVnRXhwKCdbIFxcXFwtXScpKVxuICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICAgIC5tYXRjaCh2YWwpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIG1vbnRocyBpbiBudW1lcmljYWwgZm9ybWF0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdldE1vbnRocygpOiBBcnJheTxNb250aD4ge1xuICAgIGNvbnN0IG1vbnRoczogQXJyYXk8TW9udGg+ID0gW107XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoTW9udGgpKSB7XG4gICAgICBtb250aHMucHVzaChNb250aFtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbnRocztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4geWVhcnMgYmFzZWQgb24gY3VycmVudCB5ZWFyXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdldFllYXJzKCk6IEFycmF5PG51bWJlcj4ge1xuICAgIGNvbnN0IHllYXJzOiBBcnJheTxudW1iZXI+ID0gW107XG4gICAgY29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgICBmb3IgKGxldCBpID0gLTI7IGkgPCA1OyBpKyspIHtcbiAgICAgIHllYXJzLnB1c2goeWVhciArIGkpO1xuICAgIH1cbiAgICByZXR1cm4geWVhcnM7XG4gIH1cbn1cbiJdfQ==